<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <title>Tic-Tac-Toe-❌⭕ </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">   <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script> 
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> 
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

   <style>
    body
           {
            background-color: black;
            background-repeat: no-repeat;
            background-size:  100%;
            margin: auto;
            

           }
        
        .board {
           
           
           
            background-color: gray;
            background-repeat: no-repeat;
            background-size: 100% 100%;
            border: 8px solid rgb(74, 68, 68);
            border-radius: 30px;
            margin: auto;
            width: 21%;
            padding: 9px;


        }
        
        .cell {
            border: 5px solid #000;
            width: 90px;
            height: 90px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 28px;
            

        }
        h3{
            margin: auto;
            width: 23%;
            padding: 10px;
            color: #fff;            
            
        }
        .cells1{
            
            border: 12px solid #000;
            border-top:15%;
            width: 90px;
            height: 90px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            border-bottom: none; 
            border-left: none; 
            border-right: none; 
        }
        .cells2{
            
            border: 12px solid #000;
            border-top:15%;
            width: 90px;
            height: 90px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 28px;
            border-bottom: none; 
            border-left: none; 
            border-right: none; 
            border-top: none; 
        }
        h3{
            text-align: center;
            font-size: 20px;

        }
        @media only screen and (max-width: 600px) {
            h3{
            text-align: unset;
        }
  body {

            background-size:  300%; 
  }
         .board {
           
            border: 10px solid gray;
            border: 20px solid rgb(74, 68, 68);

            border-radius: 15px;
            margin: auto;
            width: 80%;

            padding: 7px;
         }
        
        .cell {
            border: 6px solid #000;
            width: 100px;
            height: 100px;
            font-size: 14px;

        }
        
        .cells2,.cells1{
            
            border: 6px solid #000;
            border-top:6%;
            width: 100px;
            height: 100px;
            font-size: 20px;
            border-left: none; 
            border-right: none; 

        }
        .cells1{
            border-bottom: none; 

        }
        img{
    width: 15px;
    height: 15px;
}
        .cells2{
            border-top: none; 

            border-bottom: none; 

        }
}
 .top { 
     border-top: none; 
 } 
  
 .left { 
     border-left: none; 
 } 
  
 .right { 
     border-right: none; 
 } 
  
 .down { 
     border-bottom: none; 
 } 
  

 .visible { 
     display: block; 
 }  
 .disabled { 
     cursor: not-allowed; 
 } 
  
 
 .visible { 
     display: block; 
 }
        .center {
  margin: auto;
  width: 22%;
  border: 3px solid green;
  padding: 15px;
}
img{
    width: 70px;
    height: 70px;
}
    </style>    
</head>
<body  >
    <h3 >Tic-Tac-Toe</h3>

    <div  class="board ">
        <div class="form-row body">
            <div class="cell left top"  style="display:none"  id="cell-0" onclick="cell_click(0)">0</div>
            <div class="cell top"       style="display:none" id="cell-1" onclick="cell_click(1)">1</div>
            <div class="cell right top" style="display:none" id="cell-2" onclick="cell_click(2)">2</div>
        </div>
        <div class="form-row body">
            <div class="cell left"  style="display:none"  id="cell-3" onclick="cell_click(3)">3</div>
            <div class="cell"       style="display:none"   id="cell-4" onclick="cell_click(4)">4</div>
            <div class="cell right" style="display:none"   id="cell-5" onclick="cell_click(5)">5</div>
        </div>

        <div class="form-row body">
            <div class="cell down left" style="display:none"  id="cell-6" onclick="cell_click(6)">6</div>
            <div class="cell down" style="display:none"  id="cell-7" onclick="cell_click(7)">7</div>
            <div class="cell down right" style="display:none"  id="cell-8" onclick="cell_click(8)">8</div>
        </div>
        <HR>
        <div class="form-row body">
            <div class="cells1"   id="cell-12" ><B>X-WIN</B></div>
            <div class="cells1"  id="cell-13"><B>round</B></div>
            <div class="cells1"    id="cell-14"><B>O-WIN</B></div>
        </div>

        <div class="form-row body">
            <div class="cells2 " style="display:none"   id="cell-9" ><B>0</B></div>
            <div class="cells2 " style="display:none"   id="cell-10"><B>0</B></div>
            <div class="cells2  " style="display:none"  id="cell-11"><B>0</B></div>
        </div>
    </div>
    <br/>
    
    <div class="mx-auto form-row" style="width: 300px;">  
    
    <button type="button" id="play" style="display:none" class="btn btn-dark ml-5 col-md-4 mb-3 "  onclick=" paly_game()" value="">Play</button>
    <select  onchange="select()" id="select" class="custom-select mr-sm-1 col-md-4 mb-3 bg-dark text-white" id="select" required>
        <option  value="">Difficulty </option>
        <option  value= 1 id="even"><b>Player VS ROBOT</b></option>
        <option value= 2 id="positive">Two playur</option>
        </select>
    </div>
    </div>
     </div>
     
    <script>
        //style='font-size:24px'class="fa">&#xf007;<b>
         function select(){
                let option = document.getElementById('select').value;
            switch(option){
                case "1":one_playur ()
                break;
                case "2":two_playur ()
                break;
            }
        }
        function Hide_sekect(){
            const div1 = document.getElementById("select");
            div1.style.display = div1.style.display === "none" ? "block" : "none";
        }

         function one_playur (){
            const div1 = document.getElementById("play");
                div1.style.display = div1.style.display === "block" ? "none" : "block"; 
                Hide_sekect()
            return playur=1;
            
         }
         function  two_playur (){
            const div1 = document.getElementById("play");
            div1.style.display = div1.style.display === "block" ? "none" : "block"; 
            Hide_sekect()
            return playur=2; 
        }


        let playur=0
        let xo = "1" //כדי לשנות  בין איקס לעיגול
        let amounr_of_games =0   // כדי לדעת כמות סבבים
        let win_x=0 // כדי לדעת כמות נצחונות של איקס
        let win_o=0// כדי לדעת כמות נצחונות של עיגול

        // בהתחלה אני מגדיר מחרוזת עם 9 מספרים שכולם מוגדרים -1
        let arr =[-1,-1,-1,-1,-1,-1,-1,-1,-1]
         
        function paly_game(){
            const div = document.querySelector('#play');
            const value = div.textContent;
            if (value == 'stop') { ;
                document.getElementById("play").textContent = "play"
                Cleaning_results()
            }

            else { 
                document.getElementById("play").textContent = "stop"
                end()
            }
            Hide_divs()                         
        }

        function Cleaning_results(){
            amounr_of_games =0, win_x=0, win_o=0
            document.getElementById("cell-9").textContent = win_x,
            document.getElementById("cell-10").textContent = amounr_of_games,
            document.getElementById("cell-11").textContent = win_o;

        }
        function Hide_divs(){
            for (let index = 0; index <arr.length; index++) {
                const div1 = document.getElementById(`cell-${index}`);
                div1.style.display = div1.style.display === "block" ? "none" : "block";
            }
        }

        function cell_click(cell_number){

            if (arr[cell_number] !="x" && xo == "1" && arr[cell_number] !="o") {
                
                 const img = document.createElement("img");
                 img.src = "imgs/x.png";
                 const src = document.getElementById(`cell-${cell_number}`);
                 src.appendChild(img);

                arr[cell_number] = "x"

                win1()
                finish1()

              
            }
            if (arr[cell_number] !="o" && xo == "0" && arr[cell_number] !="x") {
                const img = document.createElement("img");
                img.src = "imgs/o.png";
                const src = document.getElementById(`cell-${cell_number}`);
                src.appendChild(img);
                arr[cell_number] = "o"
                win2()
                finish2()
                return xo ="1"
            }
        }
        
        function end(){
            
            for (let index = 0; index <arr.length; index++) {
                    document.getElementById(`cell-${index}`).textContent = null;                    
                }
                return  arr =[-1,-1,-1,-1,-1,-1,-1,-1,-1] 
        }

        function clearCells(cells) {
            for (const cell of cells) {
                 cell.value="";
            }
        }

        function easy(){
            while (true) {
            const cell_number = Math.floor(Math.random() * arr.length);

                if (arr[cell_number] == -1) {
                 cell_click(cell_number)
                break;
                
                }
                else{
                    continue;
                }

            }
            
         } 

        function medium(arr) {

        for (let i = 0; i < arr.length; i++) {
        if (arr[i] === "x") {
            if (i > 0 && arr[i - 1] === "x") {
            arr[i] = "o";
            } else if (i < arr.length - 1 && arr[i + 1] === "x") {
            arr[i] = "o";
            }
        }
        }

        cell_click(i)

        }
                        
                 
        function reset(n){
             return 0;
        }
            
        function finish1(){
            for (const number of arr){

                if(number == 0){

                    for (let index = 0; index <arr.length; index++) {
                        document.getElementById(`cell-${index}`).textContent = null;                
                    }
          
                    return alert("end") , arr =[-1,-1,-1,-1,-1,-1,-1,-1,-1] ,amounr_of_games++,win_x++,
                    document.getElementById("cell-9").textContent = win_x,
                    document.getElementById("cell-10").textContent = amounr_of_games,
                    document.getElementById("cell-11").textContent = win_o;

                }

                else{
                 xo ="0"
                return playur == 2? xo ="0": easy(number) ;
                    
                }
                }
            }
        

        function finish2(){
            for (const number of arr){

                if(number == 0){

                for (let index = 0; index <arr.length; index++) {
                    document.getElementById(`cell-${index}`).textContent = null;                  
                }
                return alert("end") , arr =[-1,-1,-1,-1,-1,-1,-1,-1,-1] ,amounr_of_games++,win_o++,xo ="1",
                document.getElementById("cell-9").textContent = win_x,
                document.getElementById("cell-10").textContent = amounr_of_games,
                document.getElementById("cell-11").textContent = win_o;
                }
                else{
                return xo ="1" 
                }
                }
            }

        function win1(){

            switch(true){
                
                case (arr[0]=="x" && arr[1]=="x" && arr[2]=="x")||(arr[2]=="x" && arr[4]=="x" && arr[6]=="x"):
                case (arr[0]=="x" && arr[3]=="x" && arr[6]=="x")||(arr[0]=="x" && arr[4]=="x" && arr[8]=="x"):
                case (arr[3]=="x" && arr[4]=="x" && arr[5]=="x")||(arr[6]=="x" && arr[7]=="x" && arr[8]=="x"):
                case (arr[2]=="x" && arr[5]=="x" && arr[8]=="x")||(arr[1]=="x" && arr[4]=="x" && arr[7]=="x"):
                    return alert("win - x"), arr=arr.map(reset);
                        
            }
        }
        function win2(){
            switch(true){
                
                case (arr[0]=="o" && arr[1]=="o" && arr[2]=="o")||(arr[2]=="o" && arr[4]=="o" && arr[6]=="o"):
                case (arr[0]=="o" && arr[3]=="o" && arr[6]=="o")||(arr[0]=="o" && arr[4]=="o" && arr[8]=="o"):
                case (arr[3]=="o" && arr[4]=="o" && arr[5]=="o")||(arr[6]=="o" && arr[7]=="o" && arr[8]=="o"):
                case (arr[2]=="o" && arr[5]=="o" && arr[8]=="o")||(arr[1]=="o" && arr[4]=="o" && arr[7]=="o"):
                   return alert("win - o"), arr=arr.map(reset);
            }
        }

        
                 
    </script>


</body>
</html>